/* ============================================
   RESPONSIVE STYLES
   Mobile-first breakpoints and adjustments
   ============================================ */

/* === MOBILE (< 640px) === */
@media (max-width: 639px) {
  /* Navigation */
  .nav-menu {
    position: fixed;
    top: 70px;
    left: 0;
    right: 0;
    background: rgba(253, 251, 247, 0.98);
    backdrop-filter: blur(20px);
    flex-direction: column;
    padding: var(--space-xl);
    gap: var(--space-lg);
    box-shadow: 0 10px 30px rgba(74, 55, 40, 0.15);
    transform: translateY(-100%);
    opacity: 0;
    transition: all var(--duration-medium) var(--ease-smooth);
    pointer-events: none;
  }
  
  .nav-menu.active {
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
  }
  
  .nav-toggle {
    display: flex;
  }
  
  .nav-toggle.active span:nth-child(1) {
    transform: rotate(45deg) translate(8px, 8px);
  }
  
  .nav-toggle.active span:nth-child(2) {
    opacity: 0;
  }
  
  .nav-toggle.active span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
  }
  
  /* Hero */
  .hero {
    min-height: 90vh;
    padding: var(--space-2xl) 0;
  }
  
  .hero-title {
    font-size: 2.5rem;
  }
  
  .hero-subtitle {
    font-size: 1rem;
  }
  
  .hero-cta {
    flex-direction: column;
    width: 100%;
  }
  
  .hero-cta .btn {
    width: 100%;
  }
  
  .hero-scroll-indicator {
    bottom: var(--space-lg);
  }
  
  /* Sections */
  section {
    padding: var(--space-3xl) 0;
  }
  
  .section-header {
    margin-bottom: var(--space-2xl);
  }
  
  /* Services */
  .services-grid {
    grid-template-columns: 1fr;
    gap: var(--space-lg);
  }
  
  /* Philosophy */
  .philosophy-content {
    grid-template-columns: 1fr;
    gap: var(--space-2xl);
  }
  
  .philosophy-visual {
    order: -1;
  }
  
  .mandala-container {
    max-width: 280px;
  }
  
  /* Testimonials */
  .testimonial-card {
    flex: 0 0 300px;
  }
  
  .testimonial-text {
    font-size: 1rem;
  }
  
  /* Credentials */
  .credentials-timeline::before {
    left: 10px;
  }
  
  .timeline-item {
    padding-left: var(--space-2xl);
  }
  
  .timeline-marker {
    left: 1px;
    width: 20px;
    height: 20px;
  }
  
  /* Contact */
  .contact-wrapper {
    grid-template-columns: 1fr;
    gap: var(--space-2xl);
  }
  
  .contact-form {
    padding: var(--space-xl);
  }
  
  /* Footer */
  .footer-content {
    grid-template-columns: 1fr;
    gap: var(--space-2xl);
  }
  
  .footer-links {
    grid-template-columns: 1fr;
    gap: var(--space-xl);
  }
}

/* === MOBILE LANDSCAPE & SMALL TABLETS (640px - 768px) === */
@media (min-width: 640px) and (max-width: 767px) {
  .services-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .philosophy-content {
    grid-template-columns: 1fr;
  }
  
  .contact-wrapper {
    grid-template-columns: 1fr;
  }
  
  .footer-content {
    grid-template-columns: 1fr;
  }
  
  .footer-links {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* === TABLETS (768px - 1024px) === */
@media (min-width: 768px) and (max-width: 1023px) {
  /* Hero */
  .hero-title {
    font-size: 3.5rem;
  }
  
  /* Services */
  .services-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-xl);
  }
  
  /* Philosophy */
  .philosophy-content {
    grid-template-columns: 1fr;
    gap: var(--space-2xl);
  }
  
  .philosophy-text {
    order: 1;
  }
  
  .philosophy-visual {
    order: 2;
  }
  
  .mandala-container {
    max-width: 350px;
    margin: 0 auto;
  }
  
  /* Contact */
  .contact-wrapper {
    grid-template-columns: 1fr;
    gap: var(--space-2xl);
  }
  
  /* Footer */
  .footer-content {
    grid-template-columns: 1fr;
    text-align: center;
  }
  
  .footer-links {
    grid-template-columns: repeat(3, 1fr);
    text-align: left;
  }
}

/* === DESKTOP (1024px - 1280px) === */
@media (min-width: 1024px) and (max-width: 1279px) {
  .services-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

/* === LARGE DESKTOP (1280px+) === */
@media (min-width: 1280px) {
  .services-grid {
    grid-template-columns: repeat(4, 1fr);
  }
  
  .hero-title {
    font-size: 5rem;
  }
}

/* === ULTRA WIDE (1536px+) === */
@media (min-width: 1536px) {
  .container {
    max-width: 1400px;
  }
  
  .container-wide {
    max-width: 1600px;
  }
  
  section {
    padding: calc(var(--space-4xl) * 1.5) 0;
  }
}

/* === LANDSCAPE ORIENTATION === */
@media (orientation: landscape) and (max-height: 600px) {
  .hero {
    min-height: 100vh;
    padding: var(--space-2xl) 0;
  }
  
  .hero-title {
    font-size: 2.5rem;
  }
  
  .hero-subtitle {
    font-size: 1rem;
    margin-bottom: var(--space-lg);
  }
  
  .hero-scroll-indicator {
    display: none;
  }
  
  section {
    padding: var(--space-2xl) 0;
  }
}

/* === TOUCH DEVICE OPTIMIZATIONS === */
@media (hover: none) and (pointer: coarse) {
  /* Increase tap targets */
  .btn {
    min-height: 48px;
    padding: var(--space-md) var(--space-xl);
  }
  
  .nav-link {
    padding: var(--space-md) 0;
  }
  
  .form-input {
    min-height: 48px;
    font-size: 16px; /* Prevents zoom on iOS */
  }
  
  /* Remove hover effects on touch devices */
  .service-card:hover {
    transform: none;
  }
  
  .btn-primary:hover {
    transform: none;
  }
  
  /* Optimize scrolling performance */
  * {
    -webkit-tap-highlight-color: transparent;
  }
}

/* === HIGH DPI DISPLAYS === */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Ensure crisp rendering on retina displays */
  .logo-svg,
  .service-icon,
  .mandala {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
}

/* === DARK MODE SUPPORT === */
@media (prefers-color-scheme: dark) {
  /* Optional: Add dark mode styles if desired */
  /* Currently maintaining light theme for healing aesthetic */
}

/* === REDUCED MOTION === */
@media (prefers-reduced-motion: reduce) {
  .hero-shape {
    animation: none;
  }
  
  .mandala-layer {
    animation: none;
  }
  
  .scroll-line {
    animation: none;
  }
  
  .morph-shape {
    animation: none;
  }
  
  * {
    scroll-behavior: auto !important;
  }
}

/* === HIGH CONTRAST MODE === */
@media (prefers-contrast: high) {
  .btn-primary {
    border: 2px solid var(--earth-deep);
  }
  
  .btn-secondary {
    border-width: 3px;
  }
  
  .nav-link::after {
    height: 3px;
  }
  
  .form-input {
    border-width: 3px;
  }
}

/* === PRINT STYLES === */
@media print {
  /* Remove navigation and decorative elements */
  .nav,
  .hero-scroll-indicator,
  .hero-background,
  .morphing-progress,
  .cta {
    display: none;
  }
  
  /* Optimize layout for printing */
  body {
    background: white;
    color: black;
  }
  
  section {
    page-break-inside: avoid;
    padding: 2rem 0;
  }
  
  .hero {
    min-height: auto;
    padding: 2rem 0;
  }
  
  /* Ensure content is readable */
  .service-card,
  .testimonial-card,
  .contact-form {
    box-shadow: none;
    border: 1px solid #ddd;
  }
  
  /* Show URLs for links */
  a[href^="http"]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
  
  /* Remove animations */
  * {
    animation: none !important;
    transition: none !important;
  }
}

/* === CONTAINER QUERIES (Progressive Enhancement) === */
@supports (container-type: inline-size) {
  .service-card {
    container-type: inline-size;
  }
  
  @container (min-width: 300px) {
    .service-icon {
      width: 100px;
      height: 100px;
    }
  }
}

/* === ACCESSIBILITY ENHANCEMENTS === */
/* Focus styles for keyboard navigation */
@media (hover: hover) {
  .nav-link:focus-visible {
    outline: 2px solid var(--gold-medium);
    outline-offset: 4px;
  }
  
  .btn:focus-visible {
    outline: 3px solid var(--gold-medium);
    outline-offset: 2px;
  }
}

/* Increased font size option */
@media (min-resolution: 120dpi) {
  body {
    font-size: 1.0625rem;
  }
}

/* === SAFE AREAS (for devices with notches) === */
@supports (padding: env(safe-area-inset-left)) {
  .nav-container,
  .container,
  .container-wide {
    padding-left: max(var(--space-lg), env(safe-area-inset-left));
    padding-right: max(var(--space-lg), env(safe-area-inset-right));
  }
  
  .footer {
    padding-bottom: max(var(--space-xl), env(safe-area-inset-bottom));
  }
}

/* === FOLDABLE DEVICES === */
@media (horizontal-viewport-segments: 2) {
  .hero-content {
    max-width: calc(100vw / 2 - var(--space-2xl));
  }
}
